# 1. ERP系统软件体系结构文档

# 2. 文档修改历史

| 修改人员 | 日期           | 修改原因                                 | 版本号 |
| :------: | -------------- | ---------------------------------------- | ------ |
|  吴禹廷  | 2022年06月29日 | 创建了软件体系结构文档         | V1.0   |

# 3. 引言

## 3.1. 编制目的
1. 本文档详细完成了对ERP系统的概要设计，达到指导详细设计和开发的目的，同时实现和测试人员及用户的沟通
2. 本报告面向开发人员、测试人员及最终用户而编写，是了解系统的导航。

## 3.2. 词汇表
| 词汇名称 | 词汇含义         | 备注 |
| :------: | ---------------- | ---- |
|   ERP   |  企业资源计划   |      |

## 3.3. 参考资料
1. IEEE标准
2. ERP系统用例描述文档V1.0
3. ERP系统软件需求规格说明文档V1.0

# 4. 产品概述
1. 参考ERP系统用例描述文档和ERP系统需求规格说明文档中对产品的概括描述。

# 5. 逻辑视图
- 在ERP系统中，选择了分层体系结构风格，将系统分为3层(展示层、业务逻辑层、数据层)能够很好地示意整个高层抽象。展示层包含GUI页面的实现，业务逻辑层包含业务逻辑处理的实现，数据层负责数据的持久化和访问。分层体系结构的了逻辑视图和逻辑设计方案如下图所示。

- 参照体系结构风格的包图表达逻辑视角

![](https://seec-homework.oss-cn-shanghai.aliyuncs.com/201250031-lab7-01.png)

- 软件体系结构逻辑设计方案

![](https://seec-homework.oss-cn-shanghai.aliyuncs.com/201250031-lab7-02.png)


# 6. 组合视角

## 6.1. 开发包图

| 开发包                 | 依赖的其他开发包                                                                                                                             |
| ---------------------- | ------------------------------------------------------------------------ |
| AccountUI              | REST                      |
| AnnualUI               | REST                     |
| PaymentUI              | REST                      |
| WageUI                 | REST                   |
| SalaryUI               | REST                     |
| CreditUI               | REST                     |
| SignupUI               | REST                     |
| UserUI                 | REST                   |
| BudgetUI               | REST                     |
| InitialUI              | REST                  |
| SaleDetailUI           | REST                         |
| BusinessPositionUI     | REST                         |
| REST                |  |
| AccountController              | VO, REST, AccountService           |
| AnnualController               | VO, REST, AnnualService           |
| PaymentController              | VO, REST, PaymentService           |
| WageController                 | VO, REST, WageService           |
| SalaryController               | VO, REST, SalaryService           |
| CreditController               | VO, REST, CreditService           |
| SignupController               | VO, REST, SignupService           |
| UserController                 | VO, REST, UserService           |
| BudgetController               | VO, REST, BudgetService           |
| InitialController              | VO, REST, AccountService, CustomerService, ProductService           |
| SaleDetailController           | VO, REST, SaleDetailService           |
| BusinessPositionController     | VO, REST, BusinessPositionService           |
| AccountService             | VO           |
| AnnualService              | VO           |
| PaymentService             | VO           |
| WageService                | VO           |
| SalaryService              | VO           |
| CreditService              | VO           |
| SignupService              | VO           |
| UserService                | VO           |
| BudgetService              | VO           |
| CustomerService            | VO           |
| ProductService             | VO           |
| SaleDetailService          | VO           |
| BusinessPositionService    | VO           |
| AccountServiceImpl         | PO, AccountService, AccountDao, Initial_AccountDao           |
| AnnualServiceImpl              | PO, AnnualService, AnnualDao, UserDao          |
| PaymentServiceImpl             | PO, CustomerService, PaymentService, PaymentDao, PaymentContentDao           |
| WageServiceImpl                | PO, AccountService, AnnualServic, WageService, UserService, WageDao, TaxDao          |
| SalaryServiceImpl              | PO, SalaryService, BonusDao, SalaryDao       |
| CreditServiceImpl             | PO, CreditService, CustomerService, CreditDao, CreditContentDao          |
| SignupServiceImpl              | PO, SignupService, SignupDao           |
| UserServiceImpl                | PO, UserService, AccountService, SalaryService, UserDao           |
| BudgetServiceImpl              | PO, BudgetService, AmountDiscountDao, AmountOffsetDao, LevelDiscountDao, LevelOffsetDao         |
| CustomerServiceImpl            | PO, CustomerService, AccountDao, CustomerDao, Initial_AccountDao, Initial_CustomerDao           |
| ProductServiceImpl             | PO, Service, CategoryDao, Initial_ProductDao, ProductDao           |
| SaleDetailServiceImpl          | PO, SaleDetailService, SaleDetailDao           |
| BusinessPositionServiceImpl    | PO, BusinessPositionService, BusinessPositionDao           |
| AccountDao             | PO, Database           |
| AmountDiscountDao             | PO, Database           |
| AmountOffsetDao             | PO, Database           |
| LevelDiscountDao             | PO, Database           |
| LevelOffsetDao             | PO, Database           |
| AnnualDao              | PO, Database           |
| BonusDao              | PO, Database           |
| CategoryDao              | PO, Database           |
| PaymentDao             | PO, Database           |
| PaymentContentDao             | PO, Database           |
| WageDao                | PO, Database           |
| SalaryDao              | PO, Database           |
| CreditDao              | PO, Database           |
| CreditContentDao              | PO, Database           |
| SignupDao              | PO, Database           |
| TaxDao              | PO, Database           |
| UserDao                | PO, Database           |
| BudgetDao              | PO, Database           |
| CustomerDao            | PO, Database           |
| ProductDao             | PO, Database           |
| SaleDetailDao          | PO, Database           |
| BusinessPositionDao    | PO, Database           |
| Initial_CustomerDao            | PO, Database           |
| Initial_AccountDao            | PO, Database           |
| Initial_ProductDao            | PO, Database           |
| Database            | PO, Dao           |
| VO           |          |
| PO           |          |

- ERP系统客户端开发包图如下图所示

![](https://seec-homework.oss-cn-shanghai.aliyuncs.com/201250031-lab7-03.png)


- 服务器端开发包图如下图所示

![](https://seec-homework.oss-cn-shanghai.aliyuncs.com/201250031-lab7-04.png)

## 6.2. 运行时进程

- 在ERP系统中，会有多个网页端进程和一个服务器端进程，其进程图如下图。结合部署图，网页端进程是在浏览器上运行，服务器端进程在服务器端机器上运行。

![](https://seec-homework.oss-cn-shanghai.aliyuncs.com/201250031-lab7-05.png)

## 6.3. 物理部署

- ERP系统中的网页端组件放在客户端机器上，服务器端组件都是放在服务器端机器上。由于Java RMI构建属于JDK的一部分，所以，在系统JDK环境已经设置好的情况下，不需要再单独进行部署。

![](https://seec-homework.oss-cn-shanghai.aliyuncs.com/201250031-lab7-06.png)

# 7. 架构设计

## 7.1. 模块职责

- 网页端模块和服务器端模块视图分别如下两张图所示（依次对应上下两张）。
  - 网页端模块视图
  
  ![](https://seec-homework.oss-cn-shanghai.aliyuncs.com/201250031-lab7-07.png)

  - 服务器端模块视图
  
  ![](https://seec-homework.oss-cn-shanghai.aliyuncs.com/201250031-lab7-08.png)

- 客户端各层职责
  
	|       层       | 职责                                 |
	| :------------: | ------------------------------------ |
	|   用户界面层   | 基于客户端的ERP系统的界面      |
	| 客户端网络模块 | 利用Rest API机制发起HTTP请求       |

- 服务器端各层职责

	|       层       | 职责                                         |
	| :------------: | -------------------------------------------- |
	|    启动模块    | 负责初始化网络通信机制，启动用户界面         |
	|   业务逻辑层   | 对于用户界面输入的进行响应并进行业务处理逻辑 |
	|     数据层     | 负责数据的持久化和数据访问接口               |
	| 服务端网络模块 | 接受客户端的HTTP请求                         |

- 层之间调用接口
  
	|       接口      | 服务调用方       | 服务提供方       |
	| :-------------: | ---------------- | ---------------- |
	|  AccountController<br>AnnualController<br>BudgetController<br>BusinessPositionController<br>CreditController<br>InitialController<br>PaymentController<br>SalaryController<br>SaleDetailController<br>SignupController<br>UserController<br>WageController   |  客户端展示层     | 客户端业务逻辑层 |
	AccountService<br>AnnualService<br>BudgetService<br>BusinessPositionService<br>CreditService<br>CustomerService<br>ProductService<br>PaymentService<br>SalaryService<br>SaleDetailService<br>SignupService<br>UserService<br>WageService  | 客户端业务逻辑层 | 服务端数据层     |   

## 7.2. 用户界面层分解

### 7.2.1. 职责

- 用户界面跳转图

	| 模块         | 职责                     |
	| ------------ | ------------------------ |
	| admin        | 负责展示管理人员界面 |
	| account   | 负责展示账户界面 |
	| annual | 负责展示年终奖设置界面 |
	| budget       | 负责展示促销策略设置界面         |
	| businessPosition         | 负责展示职位信息界面   |
	| credit         | 负责展示收款单界面   |
	| initial        | 负责初始界面展示         |
	| payment        | 负责付款单界面展示         |
	| salary       | 负责员工工资界面展示         |
	| saleDetail         | 负责展示销售明细界面   |
	| signup       | 负责打卡界面展示         |
	| user       | 负责用户界面展示         |
	| wage       | 负责员工工资单界面展示         |
  
### 7.2.2. 接口规范

+ account_controller模块
  
	| 接口名称  | 请求方法 | 路径             | 内容                     |
	| ---------- | -------- | ----------------- | ------------------- |
	| addAccountAPI    | POST     | /account/add  | 增加新账户     |
	| delAccountAPI    | GET     | /account/del  | 删除账户         |
	| getAllAccountAPI | POST  | /account/getAll  | 查看所有账户的信息   |
	| updateAccountAPI | POST  | /account/update | 更新账户信息 |

+ annual_controller模块

	| 接口名称  | 请求方法 | 路径             | 内容                     |
	| ---------- | -------- | ----------------- | ------------------- |
	| getAllAnnualAPI    | GET     | /annual/getAll  | 查看所有年终奖信息     |
	| makeAnnualAPI    | POST    | /annual/makeAnnual  | 新增一个年终奖记录        |

+ Payment_controller模块

	| 接口名称  | 请求方法 | 路径             | 内容                     |
	| ---------- | -------- | ----------------- | ------------------- |
	| PaymentApprovalAPI    | GET     | /Payment/approval  | 审批付款单     |
	| makePaymentSheetAPI    | POST    | /Payment/sheet-make  | 新增一个付款单      |
	| showPaymentSheetByStateAPI | GET  | /Payment/sheet-show  | 根据输入的状态查询并返回付款单信息   |

+ Wage_controller模块

	| 接口名称  | 请求方法 | 路径             | 内容                     |
	| ---------- | -------- | ----------------- | ------------------- |
	| WageApprovalAPI    | GET     | /Wage/approval  | 审批员工工资单     |
	| getUserAPI    | POST    | /Wage/getUser | 查询并返回当月未发放工资的员工      |
	| getYearlyTotalAPI | GET  | /Wage/getYearlyTotal  | 获取一个员工全年工资总和   |
	| makeWageSheetAPI    | POST     | /Wage/sheet-make  | 新增员工工资单     |
	| showWageSheetByStateAPI    | GET    | /Wage/sheet-show | 根据状态查询员工工资单     |
	| transferAPI | GET  | /Wage/transfer  | 财务人员发放工资   |

+ salary_controller模块

	| 接口名称  | 请求方法 | 路径             | 内容                     |
	| ---------- | -------- | ----------------- | ------------------- |
	| getAllSalaryAPI | GET   | /salary/getAll  | 查看所有员工工资信息   |
	| updateSalaryAPI | POST  | /salary/upd | 更新员工工资信息 |

+ signup_controller模块

	| 接口名称  | 请求方法 | 路径             | 内容                     |
	| ---------- | -------- | ----------------- | ------------------- |
	| checkSignupAPI | GET   | /signup/check  | 查询员工当日打卡信息   |
	| tickAPI | GET   | /signup/tick | 添加一条员工打卡记录 |

+ Credit_controller模块

	| 接口名称  | 请求方法 | 路径             | 内容                     |
	| ---------- | -------- | ----------------- | ------------------- |
	| CreditApprovalAPI    | GET     | /Credit/approval  | 审批收款单     |
	| makeCreditSheetAPI    | POST    | /Credit/sheet-make  | 新增一个收款单      |
	| showCreditSheetByStateAPI | GET   | /Credit/sheet-show  | 根据输入的状态查询并返回收款单信息   |

+ user_controller模块
  
	| 接口名称  | 请求方法 | 路径             | 内容                     |
	| ---------- | -------- | ----------------- | ------------------- |
	| userAuthAPI    | GET     | /user/auth  | 用户认证     |
	| delUserAPI    | GET     | /user/del  | 删除用户信息      |
	| enrollAPI | POST  | /user/enroll  | 员工入职登记   |
	| getAllUserAPI | POST  | /user/getAll  | 查看所有用户的信息   |
	| getUserIdAPI | GET   | /user/getId | 查询用户编号 |
	| loginAPI    | POST     | /user/login  | 用户登录     |
	| registerAPI    | POST    | /user/register  | 用户注册         |
	| updateUserAPI | POST  | /user/upd | 更新用户信息 |

+ budget_controller模块

	| 接口名称  | 请求方法 | 路径             | 内容                     |
	| ---------- | -------- | ----------------- | ------------------- |
	| amountdiscountAPI    | POST    | /budget/amount-discount  | 基于总金额折扣     |
	| amountoffsetAPI    | POST   | /budget/amount-offset  | 基于总金额的代金券     |
	| amountdiscountqueryAPI | POST  | /budget/amountdiscountquery  | 基于总金额折扣策略查询   |
	| amountoffsetqueryAPI | POST  | /budget/amountoffsetquery  | 基于总金额的代金券查询  |
	| leveldiscountAPI | POST  | /budget/level-discount | 基于用户级别的折扣 |
	| leveloffsetAPI    | POST     | /budget/level-offset  | 基于用户级别的代金券   |
	| leveldiscountqueryAPI    | POST    | /budget/leveldiscount-query  | 基于用户级别的折扣查询      |
	| leveloffsetqueryAPI    | POST    | /budget/leveloffset-query  | 基于用户级别的代金券查询     |

+ sale_detail_controller模块
  
	| 接口名称  | 请求方法 | 路径             | 内容                     |
	| ---------- | -------- | ----------------- | ------------------- |
	| getSaleDetailListAPI    | GET     | /saledetail/getSaleDetail  | 获取销售明细表     |

+ initial_controller模块
  
	| 接口名称  | 请求方法 | 路径             | 内容                     |
	| ---------- | -------- | ----------------- | ------------------- |
	| createAPI    | GET     | /initial/create  | 期初建账     |

+ business_position_controller模块
  
	| 接口名称  | 请求方法 | 路径             | 内容                     |
	| ---------- | -------- | ----------------- | ------------------- |
	| getBusinessPositionAPI    | GET     | /businessPosition/getBusinessPosition  | 获取经营情况表    |

- 类图
  

### 7.3.1. 职责

| 模块              | 职责                                     |
| ---------------   | ---------------------------------------- |
| Account           | 负责实现对应于账户界面所需要的服务     |
| Payment               | 负责实现对应于付款单展示界面所需要的服务       |
| Wage               | 负责实现对应于工资单展示界面所需要的服务 |
| Salary            | 负责实现对应于工资界面所需要的服务     |
| Signup            | 负责实现对应于打卡界面所需要的服务       |
| Credit               | 负责实现对应于收款单展示界面所需要的服务 |
| User              | 负责实现对应于用户界面所需要的服务 |
| budget            | 负责实现对应于促销策略界面所需要的服务     |
| saleDetail        | 负责实现对应于销售明细界面所需要的服务       |
| initial           | 负责实现对应于期初建账界面所需要的服务 |
| businessPosition  | 负责实现对应于经营情况界面所需要的服务 |

### 7.3.2. 接口规范

#### 7.3.2.1. AccountService模块的接口规范

<table>
	<tr><th colspan = "3">提供的服务(供接口)</th></tr>

  <td rowspan="4">AccountService.addAccount</td>
	<tr><td>语法</td><td>void addAccount(AddAccountVO vo);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据输入的信息生成一个账户</td></tr>

  <td rowspan="4">AccountService.delAccount</td>
	<tr><td>语法</td><td>void delAccount(Long id);</td></tr>
	<tr><td>前置条件</td><td>账户编号输入非空</td></tr>
	<tr><td>后置条件</td><td>根据账户编号删除对应账户信息</td></tr>

  <td rowspan="4">AccountService.updAccount</td>
	<tr><td>语法</td><td>void updAccount(UpdateAccountVO vo);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>根据值对象中包含的数据更新账户信息</td></tr>

  <td rowspan="4">AccountService.getAllAccount</td>
	<tr><td>语法</td><td>List< AccountVO> getAllAccount();</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>查找并返回所有账户信息</td></tr>

  <td rowspan="4">AccountService.reduceAccount</td>
	<tr><td>语法</td><td>void reduceAccount(Long bankId, BigDecimal amount);</td></tr>
	<tr><td>前置条件</td><td>银行编号非空，金额非负</td></tr>
	<tr><td>后置条件</td><td>扣除对应账户余额</td></tr>

  <td rowspan="4">AccountService.raiseAccount</td>
	<tr><td>语法</td><td>void raiseAccount(Long bankId, BigDecimal amount);</td></tr>
	<tr><td>前置条件</td><td>银行编号非空，金额非负</td></tr>
	<tr><td>后置条件</td><td>增加对应账户余额</td></tr>

  <td rowspan="4">AccountService.makeAccount</td>
	<tr><td>语法</td><td>Long makeAccount();</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统自动生成一个账户并返回账户编号</td></tr>

  <td rowspan="4">AccountService.addInitial_Account</td>
	<tr><td>语法</td><td>void addInitial_Account(AddAccountVO vo);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据输入的信息生成一个预设账户</td></tr>

  <td rowspan="4">AccountService.initialcreate</td>
	<tr><td>语法</td><td>void initialcreate();</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统将预设账户加入系统</td></tr>

  <td rowspan="4">AccountService.getAllInitialAccount</td>
	<tr><td>语法</td><td>List< AccountVO> getAllInitialAccount();</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统查找并返回所有预设账户信息</td></tr>

</table>

#### 7.3.2.2. AnnualService模块的接口规范

<table>
	<tr><th colspan = "3">提供的服务(供接口)</th></tr>

  <td rowspan="4">AnnualService.makeAnnual</td>
	<tr><td>语法</td><td>void makeAnnual(AnnualVO vo);</td></tr>
	<tr><td>前置条件</td><td>年终奖金额非负，年终奖发放年份非负</td></tr>
	<tr><td>后置条件</td><td>系统根据输入的金额和年份为一个员工制定年终奖</td></tr>

  <td rowspan="4">AnnualService.getAnnual</td>
	<tr><td>语法</td><td>BigDecimal getAnnual(Integer uid, Integer year);</td></tr>
	<tr><td>前置条件</td><td>员工编号输入非空，年份输入非负</td></tr>
	<tr><td>后置条件</td><td>系统返回该员工对应年份的年终奖金额</td></tr>

  <td rowspan="4">AnnualService.checkAnnual</td>
	<tr><td>语法</td><td>boolean checkAnnual(Integer uid, Integer year);</td></tr>
	<tr><td>前置条件</td><td>员工编号输入非空，年份输入非负</td></tr>
	<tr><td>后置条件</td><td>系统查询该员工对应年份有无年终奖</td></tr>

  <td rowspan="4">AnnualService.selectByAnnualId</td>
	<tr><td>语法</td><td>AnnualPO selectByAnnualId(String AnnualId);</td></tr>
	<tr><td>前置条件</td><td>输入年终奖编号非空</td></tr>
	<tr><td>后置条件</td><td>系统查找并返回对应编号的年终奖</td></tr>

  <td rowspan="4">AnnualService.getUserWithoutAnnual</td>
	<tr><td>语法</td><td>List< Integer> getUidWithoutAnnual(Integer year);</td></tr>
	<tr><td>前置条件</td><td>输入年份非负</td></tr>
	<tr><td>后置条件</td><td>系统查找并返回指定年份尚未发放年终奖的员工</td></tr>

</table>

#### 7.3.2.3. PaymentService模块的接口规范

<table>
	<tr><th colspan = "3">提供的服务(供接口)</th></tr>

  <td rowspan="4">PaymentService.makeSheet</td>
	<tr><td>语法</td><td>void makeSheet(PaymentVO vo);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据输入的信息生成一个付款单</td></tr>

  <td rowspan="4">PaymentService.approval</td>
	<tr><td>语法</td><td>void approval(String PaymentId, AccountSheetState state);</td></tr>
	<tr><td>前置条件</td><td>付款单编号输入非空</td></tr>
	<tr><td>后置条件</td><td>系统将该付款单的审批状态设为输入的状态</td></tr>

  <td rowspan="4">PaymentService.findSheetByState</td>
	<tr><td>语法</td><td>List< PaymentVO> findSheetByState(AccountSheetState state);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据输入的状态查找并返回所有付款单信息</td></tr>

  <td rowspan="4">PaymentService.selectByPaymentId</td>
	<tr><td>语法</td><td>PaymentPO selectByPaymentId(String PaymentId);</td></tr>
	<tr><td>前置条件</td><td>付款单编号输入非空</td></tr>
	<tr><td>后置条件</td><td>系统查找并返回编号对应的付款单信息</td></tr>

</table>

#### 7.3.2.4. WageService模块的接口规范

<table>
	<tr><th colspan = "3">提供的服务(供接口)</th></tr>

  <td rowspan="4">WageService.makeSheet</td>
	<tr><td>语法</td><td>void makeSheet(UserAndDateVO vo);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据输入的用户和时间生成一个员工工资单</td></tr>

  <td rowspan="4">WageService.approval</td>
	<tr><td>语法</td><td>void approval(String WageId, AccountSheetState state);</td></tr>
	<tr><td>前置条件</td><td>员工工资单编号输入非空</td></tr>
	<tr><td>后置条件</td><td>系统将该员工工资单的审批状态设为输入的状态</td></tr>

  <td rowspan="4">WageService.findSheetByState</td>
	<tr><td>语法</td><td>List< WageVO> findSheetByState(AccountSheetState state);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据输入的状态查找并返回所有员工工资单信息</td></tr>

  <td rowspan="4">WageService.selectByWageId</td>
	<tr><td>语法</td><td>WagePO selectByWageId(String WageId);</td></tr>
	<tr><td>前置条件</td><td>输入工资单编号非空</td></tr>
	<tr><td>后置条件</td><td>系统查找并返回对应编号的工资单</td></tr>

  <td rowspan="4">WageService.getUserWithoutPayroll</td>
	<tr><td>语法</td><td>WagePO getUserWithoutPayroll(DateVO vo);</td></tr>
	<tr><td>前置条件</td><td>输入年份非负，月份为1至12之间</td></tr>
	<tr><td>后置条件</td><td>系统查找并返回指定月份尚未发放工资的员工</td></tr>

  <td rowspan="4">WageService.getYearlyTotal</td>
	<tr><td>语法</td><td>YearlyTotalWithAnnualVO getYearlyTotal(Integer uid, Integer year);</td></tr>
	<tr><td>前置条件</td><td>输入员工编号非空，年份非负</td></tr>
	<tr><td>后置条件</td><td>系统查找并返回对应编号员工该年份的工资单</td></tr>

  <td rowspan="4">WageService.getYearlyTotalSalary</td>
	<tr><td>语法</td><td>BigDecimal getYearlyTotalSalary(Integer uid, Integer year);</td></tr>
	<tr><td>前置条件</td><td>输入员工编号非空，年份非负</td></tr>
	<tr><td>后置条件</td><td>系统查找并返回该员工指定年份的工资总额</td></tr>

</table>



#### 7.3.2.5. SalaryService模块的接口规范

<table>
	<tr><th colspan = "3">提供的服务(供接口)</th></tr>

  <td rowspan="4">SalaryService.getSalary</td>
	<tr><td>语法</td><td>Salary getSalary(Role r);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据输入的用户岗位返回对应的工资</td></tr>

  <td rowspan="4">SalaryService.addBonus</td>
	<tr><td>语法</td><td>void addBonus(String name);</td></tr>
	<tr><td>前置条件</td><td>员工姓名输入非空</td></tr>
	<tr><td>后置条件</td><td>系统根据姓名返回该员工对应工资</td></tr>

  <td rowspan="4">SalaryService.getMonthlyBonus</td>
	<tr><td>语法</td><td>BigDecimal getMonthlyBonus(User user, int year, int month);</td></tr>
	<tr><td>前置条件</td><td>年份非负，月份为1至12之间</td></tr>
	<tr><td>后置条件</td><td>系统根据输入的员工姓名和月份返回该月工资</td></tr>

  <td rowspan="4">SalaryService.getAllSalary</td>
	<tr><td>语法</td><td>List< SalaryFullVO> getAllSalary();</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统返回所有员工的工资信息</td></tr>

  <td rowspan="4">SalaryService.upd</td>
	<tr><td>语法</td><td>void upd(SalaryFullVO vo);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据输入更新员工工资信息</td></tr>

</table>

#### 7.3.2.6. Signup模块的接口规范

<table>
	<tr><th colspan = "3">提供的服务(供接口)</th></tr>

  <td rowspan="4">SignupService.tick</td>
	<tr><td>语法</td><td>void tick(Integer uid);</td></tr>
	<tr><td>前置条件</td><td>员工编号非负</td></tr>
	<tr><td>后置条件</td><td>系统新增一条该编号对应员工的打卡记录</td></tr>

  <td rowspan="4">SignupService.checkDailyTick</td>
	<tr><td>语法</td><td>boolean checkDailyTick(Integer uid);</td></tr>
	<tr><td>前置条件</td><td>员工编号输入非空</td></tr>
	<tr><td>后置条件</td><td>系统查询对应编号员工当日是否打卡</td></tr>

  <td rowspan="4">SignupService.MonthlyTickTimes</td>
	<tr><td>语法</td><td>Integer MonthlyTickTimes(Integer uid);</td></tr>
	<tr><td>前置条件</td><td>员工编号输入非空</td></tr>
	<tr><td>后置条件</td><td>系统查询对应编号员工当月打卡次数</td></tr>

  <td rowspan="4">SignupService.absentTimes</td>
	<tr><td>语法</td><td>Integer absentTimes(Integer uid);</td></tr>
	<tr><td>前置条件</td><td>员工编号输入非空</td></tr>
	<tr><td>后置条件</td><td>系统查询对应编号员工当月缺勤次数</td></tr>

</table>

#### 7.3.2.7. Credit模块的接口规范

<table>
	<tr><th colspan = "3">提供的服务(供接口)</th></tr>

  <td rowspan="4">CreditService.makeSheet</td>
	<tr><td>语法</td><td>void makeSheet(CreditVO vo);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据输入的信息生成一个收款单</td></tr>

  <td rowspan="4">CreditService.approval</td>
	<tr><td>语法</td><td>void approval(String CreditId, AccountSheetState state);</td></tr>
	<tr><td>前置条件</td><td>收款单编号输入非空</td></tr>
	<tr><td>后置条件</td><td>系统将该收款单的审批状态设为输入的状态</td></tr>

  <td rowspan="4">CreditService.findSheetByState</td>
	<tr><td>语法</td><td>List< CreditVO> findSheetByState(AccountSheetState state);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据输入的状态查找并返回所有收款单信息</td></tr>

  <td rowspan="4">CreditService.selectByCreditId</td>
	<tr><td>语法</td><td>CreditPO selectByCreditId(String CreditId);</td></tr>
	<tr><td>前置条件</td><td>收款单编号输入非空</td></tr>
	<tr><td>后置条件</td><td>系统查找并返回编号对应的收款单信息</td></tr>

</table>

#### 7.3.2.9. Budget模块的接口规范

<table>
	<tr><th colspan = "3">提供的服务(供接口)</th></tr>

  <td rowspan="4">BudgetService.amountdiscount</td>
	<tr><td>语法</td><td>void amountdiscount(AmountDiscountVO vo);</td></tr>
	<tr><td>前置条件</td><td>折扣比例应为0至1之间，门槛非负</td></tr>
	<tr><td>后置条件</td><td>系统根据输入折扣添加一个优惠策略</td></tr>

  <td rowspan="4">BudgetService.amountoffset</td>
	<tr><td>语法</td><td>void amountoffset(AmountOffsetVO vo);</td></tr>
	<tr><td>前置条件</td><td>代金券金额非负，门槛非负</td></tr>
	<tr><td>后置条件</td><td>系统根据输入金额添加一个代金券</td></tr>

  <td rowspan="4">BudgetService.leveldiscount</td>
	<tr><td>语法</td><td>void leveldiscount(LevelDiscountVO vo);</td></tr>
	<tr><td>前置条件</td><td>折扣比例应为0至1之间，用户等级非负</td></tr>
	<tr><td>后置条件</td><td>系统根据输入折扣添加一个优惠策略</td></tr>

  <td rowspan="4">BudgetService.leveloffset</td>
	<tr><td>语法</td><td>void leveloffset(LevelOffsetVO vo);</td></tr>
	<tr><td>前置条件</td><td>代金券金额非负，用户等级非负</td></tr>
	<tr><td>后置条件</td><td>系统根据输入金额添加一个代金券</td></tr>

  <td rowspan="4">BudgetService.getamountdiscount</td>
	<tr><td>语法</td><td>List< AmountDiscountPO> getamountdiscount();</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统查询并返回所有基于总金额的折扣信息</td></tr>

  <td rowspan="4">BudgetService.getamountoffset</td>
	<tr><td>语法</td><td>ist< AmountOffsetPO> getamountoffset();</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统查询并返回所有基于总金额的代金券信息</td></tr>

  <td rowspan="4">BudgetService.getleveldiscount</td>
	<tr><td>语法</td><td>List< LevelDiscountPO> getleveldiscount();</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统查询并返回所有基于用户等级的折扣信息</td></tr>

  <td rowspan="4">BudgetService.getleveloffset</td>
	<tr><td>语法</td><td>List< LevelDiscountPO> getleveloffset();</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统查询并返回所有基于用户等级的代金券信息</td></tr>

</table>

#### 7.3.2.10. Customer模块涉及initialController的接口规范

<table>
	<tr><th colspan = "3">提供的服务(供接口)</th></tr>

  <td rowspan="4">CustomerService.getInitialCustomersByType</td>
	<tr><td>语法</td><td>List< Initial_CustomerPO> getInitialCustomersByType(CustomerType type);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据输入的类型筛选并返回符合条件的预设客户信息</td></tr>

  <td rowspan="4">CustomerService.initial_create</td>
	<tr><td>语法</td><td>void initial_create();</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统将预设客户信息加入系统</td></tr>

</table>

#### 7.3.2.11. Product模块涉及initialController的接口规范

<table>
	<tr><th colspan = "3">提供的服务(供接口)</th></tr>

  <td rowspan="4">ProductService.initial_createProduct</td>
	<tr><td>语法</td><td>void initial_createProduct(CreateProductVO inputVO);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统将预设商品信息加入系统</td></tr>

  <td rowspan="4">ProductService.initialcreate</td>
	<tr><td>语法</td><td>void initialcreate();</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统增加一个初始预设商品</td></tr>

  <td rowspan="4">ProductService.queryAllInitialProduct</td>
	<tr><td>语法</td><td>List< ProductInfoVO> queryAllInitialProduct();</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统查找并返回所有预设商品信息</td></tr>

</table>

#### 7.3.2.12. BusinessPosition模块的接口规范

<table>
	<tr><th colspan = "3">提供的服务(供接口)</th></tr>

  <td rowspan="4">BusinessPositionService.getBusinessPosition</td>
	<tr><td>语法</td><td>BusinessPositionVO getBusinessPosition(String beginDateStr, String endDateStr);</td></tr>
	<tr><td>前置条件</td><td>起始日期不大于结束日期</td></tr>
	<tr><td>后置条件</td><td>系统查找并返回指定时间段的经营情况表</td></tr>

</table>


#### 7.3.2.13. SaleDetail模块的接口规范

<table>
	<tr><th colspan = "3">提供的服务(供接口)</th></tr>

  <td rowspan="4">SaleDetailService.getSaleDetailList</td>
	<tr><td>语法</td><td>List< SaleDetailVO> getSaleDetailList(String salesman, String customer, String pname, String beginDateStr, String endDateStr);</td></tr>
	<tr><td>前置条件</td><td>销售员、客户等姓名输入非空，起始日期不大于结束日期</td></tr>
	<tr><td>后置条件</td><td>系统查找并返回指定时间段的销售明细表</td></tr>

  <td rowspan="4">SaleDetailService.download</td>
	<tr><td>语法</td><td>void download(HttpServletResponse response, String salesman, String customer, String pname, String beginDateStr, String endDateStr);</td></tr>
	<tr><td>前置条件</td><td>销售员、客户等姓名输入非空，起始日期不大于结束日期</td></tr>
	<tr><td>后置条件</td><td>系统查找并下载指定时间段的销售明细表</td></tr>

  <td rowspan="4">SaleDetailService.getWorkBook</td>
	<tr><td>语法</td><td>private Workbook getWorkbook(String salesman, String customer, String pname, String beginDateStr, String endDateStr);</td></tr>
	<tr><td>前置条件</td><td>销售员、客户等姓名输入非空，起始日期不大于结束日期</td></tr>
	<tr><td>后置条件</td><td>系统查找并保存指定时间段的销售明细表为表格形式文件</td></tr>

</table>


## 7.4. 数据层分解


### 7.4.1. 职责

| 模块                |职责                                          |
| ------------------- | -------------------------------------------- |
| AccountDao          | 持久化数据库的接口，提供员工账户增删改查服务         |
| BonusDao            | 持久化数据库的接口，提供员工提成增删改查服务     |
| PaymentDao              | 持久化数据库的接口，提供付款单增删改查服务         |
| PaymentContentDao       | 持久化数据库的接口，提供付款单转账列表的增删改查服务     |
| WageDao              | 持久化数据库的接口，提供员工工资单的增删改查服务         |
| SalaryDao           | 持久化数据库的接口，提供员工工资的增删改查服务     |
| SignupDao           | 持久化数据库的接口，提供员工签到查询服务     |
| CreditDao              | 持久化数据库的接口，提供收款单增删改查服务 |
| CreditContentDao       | 持久化数据库的接口，提供收款单转账列表的增删改查服务         |
| TaxDao              | 持久化数据库的接口，提供员工工资单税务部分的增删改查服务         |
| UserDao             | 持久化数据库的接口，提供员工基本信息的增删改查服务         |
| AmountDiscountDao   | 持久化数据库的接口，提供基于总金额的折扣信息的增删改查服务     |
| AmountOffsetDao     | 持久化数据库的接口，提供基于总金额的代金券信息的增删改查服务     |
| LevelDiscountDao    | 持久化数据库的接口，提供基于用户等级的折扣信息的增删改查服务     |
| LevelOffsetDao      | 持久化数据库的接口，提供基于用户等级的代金券信息的增删改查服务     |
| BusinessPositionDao | 持久化数据库的接口，提供经营情况的查询服务         |
| Initial_AccountDao  | 持久化数据库的接口，提供期初预设账户的增删改查服务         |
| Initial_CustomerDao | 持久化数据库的接口，提供期初预设客户的增删改查服务         |
| Initial_ProductDao  | 持久化数据库的接口，提供期初预设商品的增删改查服务         |
| SaleDetailDao       | 持久化数据库的接口，提供销售明细的查询服务         |

### 7.4.2. 接口规范

#### 7.4.2.1. Account模块
<table>
	<tr><th colspan = "3">提供的服务(供接口)</th></tr>

  <td rowspan="4">AccountDao.insert</td>
	<tr><td>语法</td><td>int insert(AccountPO entity);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统新增一个账户</td></tr>

  <td rowspan="4">AccountDao.deleteById</td>
	<tr><td>语法</td><td>int deleteById(Serializable id);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据编号删除账户</td></tr>

  <td rowspan="4">AccountDao.updateById</td>
	<tr><td>语法</td><td>int updateById(AccountPO entity);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统更新账户信息</td></tr>

  <td rowspan="4">AccountDao.update</td>
	<tr><td>语法</td><td>int update(AccountPO entity, Wrapper< AccountPO> updateWrapper);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据包装类里封装的筛选条件更新账户信息</td></tr>

  <td rowspan="4">AccountDao.selectById</td>
	<tr><td>语法</td><td>AccountPO selectById(Serializable id);
</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据编号查询并返回对应账户所有信息</td></tr>

  <td rowspan="4">AccountDao.selectList</td>
	<tr><td>语法</td><td>List< AccountPO> selectList(Wrapper< AccountPO> queryWrapper);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据包装类里封装的筛选条件查询并返回所有符合条件的账户的所有信息</td></tr>

  <td rowspan="4">AccountDao.selectOne</td>
	<tr><td>语法</td><td>AccountPO selectOne(Wrapper< AccountPO> queryWrapper);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据包装类里封装的筛选条件查询并返回符合条件的唯一一个账户的所有信息</td></tr>

</table>

#### 7.4.2.2. Annual模块
<table>
	<tr><th colspan = "3">提供的服务(供接口)</th></tr>

  <td rowspan="4">AnnualDao.getUidWithoutAnnual</td>
	<tr><td>语法</td><td>List< Integer> getUidWithoutAnnual(Integer year);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据输入年份查找该年尚未发放年终奖的员工编号</td></tr>

  <td rowspan="4">AnnualDao.insert</td>
	<tr><td>语法</td><td>int insert(AnnualPO entity);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统新增一个年终奖</td></tr>

  <td rowspan="4">AnnualDao.deleteById</td>
	<tr><td>语法</td><td>int deleteById(Serializable id);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据编号删除年终奖</td></tr>

  <td rowspan="4">AnnualDao.updateById</td>
	<tr><td>语法</td><td>int updateById(AnnualPO entity);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统更新年终奖信息</td></tr>

  <td rowspan="4">AnnualDao.update</td>
	<tr><td>语法</td><td>int update(AnnualPO entity, Wrapper< AnnualPO> updateWrapper);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据包装类里封装的筛选条件更新年终奖信息</td></tr>

  <td rowspan="4">AnnualDao.selectById</td>
	<tr><td>语法</td><td>AnnualPO selectById(Serializable id);
</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据编号查询并返回对应年终奖所有信息</td></tr>

  <td rowspan="4">AnnualDao.selectList</td>
	<tr><td>语法</td><td>List< AnnualPO> selectList(Wrapper< AnnualPO> queryWrapper);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据包装类里封装的筛选条件查询并返回所有符合条件的年终奖的所有信息</td></tr>

  <td rowspan="4">AnnualDao.selectOne</td>
	<tr><td>语法</td><td>AnnualPO selectOne(Wrapper< AnnualPO> queryWrapper);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据包装类里封装的筛选条件查询并返回符合条件的唯一一个年终奖的所有信息</td></tr>

</table>


#### 7.4.2.3. Bonus模块
<table>
	<tr><th colspan = "3">提供的服务(供接口)</th></tr>

  <td rowspan="4">BonusDao.getMonthlyBonus</td>
	<tr><td>语法</td><td>Integer getMonthlyBonus(String name, int year, int month);</td></tr>
	<tr><td>前置条件</td><td>姓名非空，年份与月份非负且月份在1至12之间</td></tr>
	<tr><td>后置条件</td><td>系统返回对应员工在指定月份的提成单数</td></tr>

  <td rowspan="4">BonusDao.insert</td>
	<tr><td>语法</td><td>int insert(BonusPO entity);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统新增一条提成信息</td></tr>

  <td rowspan="4">BonusDao.deleteById</td>
	<tr><td>语法</td><td>int deleteById(Serializable id);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据编号删除提成信息</td></tr>

  <td rowspan="4">BonusDao.updateById</td>
	<tr><td>语法</td><td>int updateById(BonusPO entity);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统更新员工提成信息</td></tr>

  <td rowspan="4">BonusDao.update</td>
	<tr><td>语法</td><td>int update(BonusPO entity, Wrapper< BonusPO> updateWrapper);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据包装类里封装的筛选条件更新提成信息</td></tr>

  <td rowspan="4">BonusDao.selectById</td>
	<tr><td>语法</td><td>BonusPO selectById(Serializable id);
</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据编号查询并返回提成信息</td></tr>

  <td rowspan="4">BonusDao.selectList</td>
	<tr><td>语法</td><td>List< BonusPO> selectList(Wrapper< BonusPO> queryWrapper);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据包装类里封装的筛选条件查询并返回所有符合条件的提成信息</td></tr>

  <td rowspan="4">BonusDao.selectOne</td>
	<tr><td>语法</td><td>BonusPO selectOne(Wrapper< BonusPO> queryWrapper);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据包装类里封装的筛选条件查询并返回符合条件的唯一一条提成信息</td></tr>

</table>

#### 7.4.2.4. Payment模块
<table>
	<tr><th colspan = "3">提供的服务(供接口)</th></tr>

  <td rowspan="4">PaymentDao.getLatest</td>
	<tr><td>语法</td><td>PaymentPO getLatest();</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统返回最新的付款单信息</td></tr>

  <td rowspan="4">PaymentDao.insert</td>
	<tr><td>语法</td><td>int insert(PaymentPO entity);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统新增一条付款单信息</td></tr>

  <td rowspan="4">PaymentDao.deleteById</td>
	<tr><td>语法</td><td>int deleteById(Serializable id);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据编号删除付款单信息</td></tr>

  <td rowspan="4">PaymentDao.updateById</td>
	<tr><td>语法</td><td>int updateById(PaymentPO entity);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统更新付款单信息</td></tr>

  <td rowspan="4">PaymentDao.update</td>
	<tr><td>语法</td><td>int update(PaymentPO entity, Wrapper< PaymentPO> updateWrapper);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据包装类里封装的筛选条件更新付款单信息</td></tr>

  <td rowspan="4">PaymentDao.selectById</td>
	<tr><td>语法</td><td>PaymentPO selectById(Serializable id);
</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据编号查询并返回付款单信息</td></tr>

  <td rowspan="4">PaymentDao.selectList</td>
	<tr><td>语法</td><td>List< PaymentPO> selectList(Wrapper< PaymentPO> queryWrapper);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据包装类里封装的筛选条件查询并返回所有符合条件的付款单信息</td></tr>

  <td rowspan="4">PaymentDao.selectOne</td>
	<tr><td>语法</td><td>PaymentPO selectOne(Wrapper< PaymentPO> queryWrapper);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据包装类里封装的筛选条件查询并返回符合条件的唯一一条付款单信息</td></tr>

</table>

#### 7.4.2.5. PaymentContent模块
<table>
	<tr><th colspan = "3">提供的服务(供接口)</th></tr>

  <td rowspan="4">PaymentContentDao.insert</td>
	<tr><td>语法</td><td>int insert(PaymentContentPO entity);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统新增一条付款单转账列表信息</td></tr>

  <td rowspan="4">PaymentContentDao.deleteById</td>
	<tr><td>语法</td><td>int deleteById(Serializable id);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据编号删除付款单转账列表信息</td></tr>

  <td rowspan="4">PaymentContentDao.updateById</td>
	<tr><td>语法</td><td>int updateById(PaymentContentPO entity);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统更新付款单转账列表信息</td></tr>

  <td rowspan="4">PaymentContentDao.update</td>
	<tr><td>语法</td><td>int update(PaymentContentPO entity, Wrapper< PaymentContentPO> updateWrapper);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据包装类里封装的筛选条件更新付款单转账列表信息</td></tr>

  <td rowspan="4">PaymentContentDao.selectById</td>
	<tr><td>语法</td><td>PaymentContentPO selectById(Serializable id);
</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据编号查询并返回付款单转账列表信息</td></tr>

  <td rowspan="4">PaymentContentDao.selectList</td>
	<tr><td>语法</td><td>List< PaymentContentPO> selectList(Wrapper< PaymentContentPO> queryWrapper);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据包装类里封装的筛选条件查询并返回所有符合条件的付款单转账列表信息</td></tr>

  <td rowspan="4">PaymentContentDao.selectOne</td>
	<tr><td>语法</td><td>PaymentContentPO selectOne(Wrapper< PaymentContentPO> queryWrapper);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据包装类里封装的筛选条件查询并返回符合条件的唯一一条付款单转账列表信息</td></tr>

</table>

#### 7.4.2.6. Wage模块

<table>
	<tr><th colspan = "3">提供的服务(供接口)</th></tr>

  <td rowspan="4">WageDao.getLatest</td>
	<tr><td>语法</td><td>WagePO getLatest();</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统返回最新的工资单信息</td></tr>

  <td rowspan="4">WageDao.getUidHaveWage</td>
	<tr><td>语法</td><td>List<Integer> getUidHaveWage(Integer year, Integer month);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统返回该月份已创建工资单的员工编号</td></tr>

  <td rowspan="4">WageDao.checkPayroll</td>
	<tr><td>语法</td><td>Integer checkPayroll(Integer uid, Integer year, Integer month);</td></tr>
	<tr><td>前置条件</td><td>员工编号输入非空，年份非负，月份为1至12之间</td></tr>
	<tr><td>后置条件</td><td>系统根据输入返回员工对应月份的工资总额</td></tr>

  <td rowspan="4">WageDao.getYearlyTotalSalary</td>
	<tr><td>语法</td><td>BigDecimal getYearlyTotalSalary(Integer uid, Integer year);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据输入返回员工对应年份的工资总额</td></tr>

  <td rowspan="4">WageDao.insert</td>
	<tr><td>语法</td><td>int insert(WagePO entity);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统新增一条员工工资单信息</td></tr>

  <td rowspan="4">WageDao.deleteById</td>
	<tr><td>语法</td><td>int deleteById(Serializable id);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据编号删除员工工资单信息</td></tr>

  <td rowspan="4">WageDao.updateById</td>
	<tr><td>语法</td><td>int updateById(WagePO entity);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统更新员工工资单信息</td></tr>

  <td rowspan="4">WageDao.update</td>
	<tr><td>语法</td><td>int update(WagePO entity, Wrapper< WagePO> updateWrapper);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据包装类里封装的筛选条件更新员工工资单信息</td></tr>

  <td rowspan="4">WageDao.selectById</td>
	<tr><td>语法</td><td>WagePO selectById(Serializable id);
</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据编号查询并返回员工工资单信息</td></tr>

  <td rowspan="4">WageDao.selectList</td>
	<tr><td>语法</td><td>List< WagePO> selectList(Wrapper< WagePO> queryWrapper);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据包装类里封装的筛选条件查询并返回所有符合条件的员工工资单信息</td></tr>

  <td rowspan="4">WageDao.selectOne</td>
	<tr><td>语法</td><td>WagePO selectOne(Wrapper< WagePO> queryWrapper);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据包装类里封装的筛选条件查询并返回符合条件的唯一一条员工工资单信息</td></tr>

</table>

#### 7.4.2.7. Salary模块

<table>
	<tr><th colspan = "3">提供的服务(供接口)</th></tr>

  <td rowspan="4">SalaryDao.insert</td>
	<tr><td>语法</td><td>int insert(Salary entity);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统新增一条员工工资信息</td></tr>

  <td rowspan="4">SalaryDao.updateById</td>
	<tr><td>语法</td><td>int updateById(Salary entity);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统更新员工工资信息</td></tr>

  <td rowspan="4">SalaryDao.selectById</td>
	<tr><td>语法</td><td>SalaryPO selectById(Serializable id);
</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据编号查询并返回员工工资信息</td></tr>

  <td rowspan="4">SalaryDao.selectList</td>
	<tr><td>语法</td><td>List< Salary> selectList(Wrapper< Salary> queryWrapper);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据包装类里封装的筛选条件查询并返回所有符合条件的员工工资信息</td></tr>

  <td rowspan="4">SalaryDao.selectOne</td>
	<tr><td>语法</td><td>Salary selectOne(Wrapper< Salary> queryWrapper);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据包装类里封装的筛选条件查询并返回符合条件的唯一一条员工工资信息</td></tr>

</table>

#### 7.4.2.8. Signup模块

<table>
	<tr><th colspan = "3">提供的服务(供接口)</th></tr>

  <td rowspan="4">SignupDao.countMonthlyTickTimes</td>
	<tr><td>语法</td><td>Integer countMonthlyTickTimes(Integer uid, int year, int month);</td></tr>
	<tr><td>前置条件</td><td>员工编号非空，年份非负且月份为1至12之间</td></tr>
	<tr><td>后置条件</td><td>系统返回编号对应员工在该月的打卡次数</td></tr>

  <td rowspan="4">SignupDao.check</td>
	<tr><td>语法</td><td>List<Integer>Integer check(Integer uid, int year, int month, int day);</td></tr>
	<tr><td>前置条件</td><td>员工编号非空，年份非负，月份为1至12之间，日期为1至31之间</td></tr>
	<tr><td>后置条件</td><td>系统返回编号对应员工当天打卡次数</td></tr>

  <td rowspan="4">SignupDao.insert</td>
	<tr><td>语法</td><td>int insert(SignupPO entity);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统新增一条员工签到信息</td></tr>

</table>

#### 7.4.2.9. Credit模块

<table>
	<tr><th colspan = "3">提供的服务(供接口)</th></tr>

  <td rowspan="4">CreditDao.getLatest</td>
	<tr><td>语法</td><td>CreditPO getLatest();</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统返回最新的收款单信息</td></tr>

  <td rowspan="4">CreditDao.insert</td>
	<tr><td>语法</td><td>int insert(CreditPO entity);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统新增一条收款单信息</td></tr>

  <td rowspan="4">CreditDao.deleteById</td>
	<tr><td>语法</td><td>int deleteById(Serializable id);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据编号删除收款单信息</td></tr>

  <td rowspan="4">CreditDao.updateById</td>
	<tr><td>语法</td><td>int updateById(CreditPO entity);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统更新收款单信息</td></tr>

  <td rowspan="4">CreditDao.update</td>
	<tr><td>语法</td><td>int update(CreditPO entity, Wrapper< CreditPO> updateWrapper);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据包装类里封装的筛选条件更新收款单信息</td></tr>

  <td rowspan="4">CreditDao.selectById</td>
	<tr><td>语法</td><td>CreditPO selectById(Serializable id);
</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据编号查询并返回收款单信息</td></tr>

  <td rowspan="4">CreditDao.selectList</td>
	<tr><td>语法</td><td>List< CreditPO> selectList(Wrapper< CreditPO> queryWrapper);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据包装类里封装的筛选条件查询并返回所有符合条件的收款单信息</td></tr>

  <td rowspan="4">CreditDao.selectOne</td>
	<tr><td>语法</td><td>CreditPO selectOne(Wrapper< CreditPO> queryWrapper);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据包装类里封装的筛选条件查询并返回符合条件的唯一一条收款单信息</td></tr>

</table>

#### 7.4.2.10. CreditContent模块

<table>
	<tr><th colspan = "3">提供的服务(供接口)</th></tr>

  <td rowspan="4">CreditContentDao.insert</td>
	<tr><td>语法</td><td>int insert(CreditContentPO entity);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统新增一条收款单收款列表信息</td></tr>

  <td rowspan="4">CreditContentDao.deleteById</td>
	<tr><td>语法</td><td>int deleteById(Serializable id);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据编号删除收款单收款列表信息</td></tr>

  <td rowspan="4">CreditContentDao.updateById</td>
	<tr><td>语法</td><td>int updateById(CreditContentPO entity);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统更新收款单收款列表信息</td></tr>

  <td rowspan="4">CreditContentDao.update</td>
	<tr><td>语法</td><td>int update(CreditContentPO entity, Wrapper< CreditContentPO> updateWrapper);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据包装类里封装的筛选条件更新收款单收款列表信息</td></tr>

  <td rowspan="4">CreditContentDao.selectById</td>
	<tr><td>语法</td><td>CreditContentPO selectById(Serializable id);
</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据编号查询并返回收款单收款列表信息</td></tr>

  <td rowspan="4">CreditContentDao.selectList</td>
	<tr><td>语法</td><td>List< CreditContentPO> selectList(Wrapper< CreditContentPO> queryWrapper);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据包装类里封装的筛选条件查询并返回所有符合条件的收款单收款列表信息</td></tr>

  <td rowspan="4">CreditContentDao.selectOne</td>
	<tr><td>语法</td><td>CreditContentPO selectOne(Wrapper< CreditContentPO> queryWrapper);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据包装类里封装的筛选条件查询并返回符合条件的唯一一条收款单收款列表信息</td></tr>

</table>

#### 7.4.2.11. Tax模块

<table>
	<tr><th colspan = "3">提供的服务(供接口)</th></tr>

  <td rowspan="4">TaxDao.insert</td>
	<tr><td>语法</td><td>int insert(TaxPO entity);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统新增一条税务信息</td></tr>

  <td rowspan="4">TaxDao.selectById</td>
	<tr><td>语法</td><td>TaxPO selectById(Serializable id);
</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据编号查询并返回税务信息</td></tr>

  <td rowspan="4">TaxDao.selectList</td>
	<tr><td>语法</td><td>List< TaxPO> selectList(Wrapper< TaxPO> queryWrapper);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据包装类里封装的筛选条件查询并返回所有符合条件的税务信息</td></tr>

  <td rowspan="4">TaxDao.selectOne</td>
	<tr><td>语法</td><td>TaxPO selectOne(Wrapper< TaxPO> queryWrapper);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据包装类里封装的筛选条件查询并返回符合条件的唯一一条税务信息</td></tr>

</table>

#### 7.4.2.12. User模块

<table>
	<tr><th colspan = "3">提供的服务(供接口)</th></tr>

  <td rowspan="4">UserDao.findByUsernameAndPassword</td>
	<tr><td>语法</td><td>User findByUsernameAndPassword(String username, String password);</td></tr>
	<tr><td>前置条件</td><td>账号密码非空</td></tr>
	<tr><td>后置条件</td><td>系统返回该员工所有信息</td></tr>

  <td rowspan="4">UserDao.createUser</td>
	<tr><td>语法</td><td>int createUser(User user);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统新增基本用户信息并返回操作成功次数</td></tr>

  <td rowspan="4">UserDao.findByUsername</td>
	<tr><td>语法</td><td>User findByUsername(String username);</td></tr>
	<tr><td>前置条件</td><td>用户名非空</td></tr>
	<tr><td>后置条件</td><td>系统返回用户所有信息/td></tr>

  <td rowspan="4">UserDao.insert</td>
	<tr><td>语法</td><td>int insert(User entity);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统新增完整的用户信息</td></tr>

  <td rowspan="4">UserDao.deleteById</td>
	<tr><td>语法</td><td>int deleteById(Serializable id);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据编号删除用户信息</td></tr>

  <td rowspan="4">UserDao.updateById</td>
	<tr><td>语法</td><td>int updateById(User entity);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统更新用户信息</td></tr>

  <td rowspan="4">UserDao.update</td>
	<tr><td>语法</td><td>int update(User entity, Wrapper< User> updateWrapper);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据包装类里封装的筛选条件更新用户信息</td></tr>

  <td rowspan="4">UserDao.selectById</td>
	<tr><td>语法</td><td>User selectById(Serializable id);
    </td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据编号查询并返回用户信息</td></tr>

  <td rowspan="4">UserDao.selectList</td>
	<tr><td>语法</td><td>List< User> selectList(Wrapper< User> queryWrapper);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据包装类里封装的筛选条件查询并返回所有符合条件的用户信息</td></tr>

  <td rowspan="4">UserDao.selectOne</td>
	<tr><td>语法</td><td>User selectOne(Wrapper< User> queryWrapper);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据包装类里封装的筛选条件查询并返回符合条件的唯一一条用户信息</td></tr>

</table>

#### 7.4.2.13. AmountDiscount模块

<table>
	<tr><th colspan = "3">提供的服务(供接口)</th></tr>

  <td rowspan="4">AmountDiscountDao.insert</td>
	<tr><td>语法</td><td>int insert(AmountDiscount entity);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统新增一条基于总金额的折扣信息</td></tr>

  <td rowspan="4">AmountDiscountDao.deleteById</td>
	<tr><td>语法</td><td>int deleteById(Serializable id);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据编号删除基于总金额的折扣信息</td></tr>

  <td rowspan="4">AmountDiscountDao.updateById</td>
	<tr><td>语法</td><td>int updateById(AmountDiscount entity);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统更新基于总金额的折扣信息</td></tr>

  <td rowspan="4">AmountDiscountDao.update</td>
	<tr><td>语法</td><td>int update(AmountDiscount entity, Wrapper< AmountDiscount> updateWrapper);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据包装类里封装的筛选条件更新基于总金额的折扣信息</td></tr>

  <td rowspan="4">AmountDiscountDao.selectById</td>
	<tr><td>语法</td><td>AmountDiscount selectById(Serializable id);
    </td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据编号查询并返回基于总金额的折扣信息</td></tr>

  <td rowspan="4">AmountDiscountDao.selectList</td>
	<tr><td>语法</td><td>List< AmountDiscount> selectList(Wrapper< AmountDiscount> queryWrapper);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据包装类里封装的筛选条件查询并返回所有符合条件的基于总金额的折扣信息</td></tr>

  <td rowspan="4">AmountDiscountDao.selectOne</td>
	<tr><td>语法</td><td>AmountDiscount selectOne(Wrapper< AmountDiscount> queryWrapper);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据包装类里封装的筛选条件查询并返回符合条件的唯一一条基于总金额的折扣信息</td></tr>

</table>

#### 7.4.2.14. AmountOffset模块

<table>
	<tr><th colspan = "3">提供的服务(供接口)</th></tr>

  <td rowspan="4">AmountOffsetDao.insert</td>
	<tr><td>语法</td><td>int insert(AmountOffset entity);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统新增一条基于总金额的代金券信息</td></tr>

  <td rowspan="4">AmountOffsetDao.deleteById</td>
	<tr><td>语法</td><td>int deleteById(Serializable id);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据编号删除基于总金额的代金券信息</td></tr>

  <td rowspan="4">AmountOffsetDao.updateById</td>
	<tr><td>语法</td><td>int updateById(AmountOffset entity);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统更新基于总金额的代金券信息</td></tr>

  <td rowspan="4">AmountOffsetDao.update</td>
	<tr><td>语法</td><td>int update(AmountOffset entity, Wrapper< AmountOffset> updateWrapper);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据包装类里封装的筛选条件更新基于总金额的代金券信息</td></tr>

  <td rowspan="4">AmountOffsetDao.selectById</td>
	<tr><td>语法</td><td>AmountOffset selectById(Serializable id);
    </td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据编号查询并返回基于总金额的代金券信息</td></tr>

  <td rowspan="4">AmountOffsetDao.selectList</td>
	<tr><td>语法</td><td>List< AmountOffset> selectList(Wrapper< AmountOffset> queryWrapper);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据包装类里封装的筛选条件查询并返回所有符合条件的基于总金额的代金券信息</td></tr>

  <td rowspan="4">AmountOffsetDao.selectOne</td>
	<tr><td>语法</td><td>AmountOffset selectOne(Wrapper< AmountOffset> queryWrapper);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据包装类里封装的筛选条件查询并返回符合条件的唯一一条基于总金额的代金券信息</td></tr>

</table>

#### 7.4.2.15. LevelDiscount模块

<table>
	<tr><th colspan = "3">提供的服务(供接口)</th></tr>

  <td rowspan="4">LevelDiscountDao.insert</td>
	<tr><td>语法</td><td>int insert(LevelDiscount entity);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统新增一条基于用户等级的折扣信息</td></tr>

  <td rowspan="4">LevelDiscountDao.deleteById</td>
	<tr><td>语法</td><td>int deleteById(Serializable id);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据编号删除基于用户等级的折扣信息</td></tr>

  <td rowspan="4">LevelDiscountDao.updateById</td>
	<tr><td>语法</td><td>int updateById(LevelDiscount entity);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统更新基于用户等级的折扣信息</td></tr>

  <td rowspan="4">LevelDiscountDao.update</td>
	<tr><td>语法</td><td>int update(LevelDiscount entity, Wrapper< LevelDiscount> updateWrapper);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据包装类里封装的筛选条件更新基于用户等级的折扣信息</td></tr>

  <td rowspan="4">LevelDiscountDao.selectById</td>
	<tr><td>语法</td><td>LevelDiscount selectById(Serializable id);
    </td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据编号查询并返回基于用户等级的折扣信息</td></tr>

  <td rowspan="4">LevelDiscountDao.selectList</td>
	<tr><td>语法</td><td>List< LevelDiscount> selectList(Wrapper< LevelDiscount> queryWrapper);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据包装类里封装的筛选条件查询并返回所有符合条件的基于用户等级的折扣信息</td></tr>

  <td rowspan="4">LevelDiscountDao.selectOne</td>
	<tr><td>语法</td><td>LevelDiscount selectOne(Wrapper< LevelDiscount> queryWrapper);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据包装类里封装的筛选条件查询并返回符合条件的唯一一条基于用户等级的折扣信息</td></tr>

</table>

#### 7.4.2.16. LevelOffset模块

<table>
	<tr><th colspan = "3">提供的服务(供接口)</th></tr>

  <td rowspan="4">LevelOffsetDao.insert</td>
	<tr><td>语法</td><td>int insert(LevelOffset entity);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统新增一条基于用户等级的代金券信息</td></tr>

  <td rowspan="4">LevelOffsetDao.deleteById</td>
	<tr><td>语法</td><td>int deleteById(Serializable id);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据编号删除基于用户等级的代金券信息</td></tr>

  <td rowspan="4">LevelOffsetDao.updateById</td>
	<tr><td>语法</td><td>int updateById(LevelOffset entity);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统更新基于用户等级的代金券信息</td></tr>

  <td rowspan="4">LevelOffsetDao.update</td>
	<tr><td>语法</td><td>int update(LevelOffset entity, Wrapper< LevelOffset> updateWrapper);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据包装类里封装的筛选条件更新基于用户等级的代金券信息</td></tr>

  <td rowspan="4">LevelOffsetDao.selectById</td>
	<tr><td>语法</td><td>LevelOffset selectById(Serializable id);
    </td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据编号查询并返回基于用户等级的代金券信息</td></tr>

  <td rowspan="4">LevelOffsetDao.selectList</td>
	<tr><td>语法</td><td>List< LevelOffset> selectList(Wrapper< LevelOffset> queryWrapper);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据包装类里封装的筛选条件查询并返回所有符合条件的基于用户等级的代金券信息</td></tr>

  <td rowspan="4">LevelOffsetDao.selectOne</td>
	<tr><td>语法</td><td>LevelOffset selectOne(Wrapper< LevelOffset> queryWrapper);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据包装类里封装的筛选条件查询并返回符合条件的唯一一条基于用户等级的代金券信息</td></tr>

</table>

#### 7.4.2.17. BusinessPosition模块

<table>
	<tr><th colspan = "3">提供的服务(供接口)</th></tr>

  <td rowspan="4">BusinessPositionDao.selectById</td>
	<tr><td>语法</td><td>BusinessPosition selectById(Serializable id);
    </td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据编号查询并返回经营情况明细</td></tr>

  <td rowspan="4">BusinessPositionDao.selectList</td>
	<tr><td>语法</td><td>List< BusinessPosition> selectList(Wrapper< BusinessPosition> queryWrapper);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据包装类里封装的筛选条件查询并返回所有符合条件的经营情况明细</td></tr>

  <td rowspan="4">BusinessPositionDao.selectOne</td>
	<tr><td>语法</td><td>BusinessPosition selectOne(Wrapper< BusinessPosition> queryWrapper);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据包装类里封装的筛选条件查询并返回符合条件的唯一一条经营情况明细</td></tr>

  <td rowspan="4">BusinessPositionDao.getsaleincome</td>
	<tr><td>语法</td><td>BigDecimal getsaleincome(Date beginTime, Date endTime);</td></tr>
	<tr><td>前置条件</td><td>起始日期不大于结束日期</td></tr>
	<tr><td>后置条件</td><td>系统查找并计算指定时间段的公司收入总金额</td></tr>

  <td rowspan="4">BusinessPositionDao.getsaleoutcome</td>
	<tr><td>语法</td><td>BigDecimal getsaleoutcome(Date beginTime, Date endTime);</td></tr>
	<tr><td>前置条件</td><td>起始日期不大于结束日期</td></tr>
	<tr><td>后置条件</td><td>系统查找并计算指定时间段的公司支出总金额</td></tr>

  <td rowspan="4">BusinessPositionDao.getproductincome</td>
	<tr><td>语法</td><td>BigDecimal getproductincome(Date beginTime, Date endTime);</td></tr>
	<tr><td>前置条件</td><td>起始日期不大于结束日期</td></tr>
	<tr><td>后置条件</td><td>系统查找并计算指定时间段的商品进货量</td></tr>

  <td rowspan="4">BusinessPositionDao.getproductoutcome</td>
	<tr><td>语法</td><td>BigDecimal getproductoutcome(Date beginTime, Date endTime);</td></tr>
	<tr><td>前置条件</td><td>起始日期不大于结束日期</td></tr>
	<tr><td>后置条件</td><td>系统查找并计算指定时间段的商品出库量</td></tr>

  <td rowspan="4">BusinessPositionDao.gethumanoutcome</td>
	<tr><td>语法</td><td>BigDecimal gethumanoutcome(Date beginTime, Date endTime);</td></tr>
	<tr><td>前置条件</td><td>起始日期不大于结束日期</td></tr>
	<tr><td>后置条件</td><td>系统查找并计算指定时间段的人员流动量</td></tr>

</table>

#### 7.4.2.18. SaleDetail模块

<table>
	<tr><th colspan = "3">提供的服务(供接口)</th></tr>

  <td rowspan="4">SaleDetailDao.selectById</td>
	<tr><td>语法</td><td>SaleDetail selectById(Serializable id);
    </td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据编号查询并返回经营情况明细</td></tr>

  <td rowspan="4">SaleDetailDao.selectList</td>
	<tr><td>语法</td><td>List< SaleDetail> selectList(Wrapper< SaleDetail> queryWrapper);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据包装类里封装的筛选条件查询并返回所有符合条件的经营情况明细</td></tr>

  <td rowspan="4">SaleDetailDao.selectOne</td>
	<tr><td>语法</td><td>SaleDetail selectOne(Wrapper< SaleDetail> queryWrapper);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据包装类里封装的筛选条件查询并返回符合条件的唯一一条经营情况明细</td></tr>

  <td rowspan="4">SaleDetailDao.getSaleDetailList</td>
	<tr><td>语法</td><td>List< SaleDetailVO> getSaleDetailList(String salesman, String customer, String pname, Date beginTime, Date endTime);</td></tr>
	<tr><td>前置条件</td><td>销售员、客户等姓名输入非空，起始日期不大于结束日期</td></tr>
	<tr><td>后置条件</td><td>系统查找并返回指定时间段的销售明细表</td></tr>

  <td rowspan="4">SaleDetailDao.getSaleReturnsDetailList</td>
	<tr><td>语法</td><td>List< SaleDetailVO> getSaleReturnsDetailList(String salesman, String customer, String pname, Date beginTime, Date endTime);</td></tr>
	<tr><td>前置条件</td><td>销售员、客户等姓名输入非空，起始日期不大于结束日期</td></tr>
	<tr><td>后置条件</td><td>系统查找并返回指定时间段的销售退货明细表</td></tr>


</table>

## 7.5. 信息视角

- 系统的PO类包含用户的对应的相关的实体类

### 7.5.1. AccountPO类
- 包含账户编号、账户持有者姓名以及账户余额。
- AccountPO类的属性如下
```java
public class AccountPO {
    private Long id;
    private String name;
    private BigDecimal amount;
}
```

### 7.5.2. AmountDiscountPO类
- 包含使用门槛以及折扣金额等信息。
- AmountDiscountPO类的属性如下
```java
public class AmountDiscountPO {
    private BigDecimal amount;
    private BigDecimal discount;
}
```

### 7.5.3. AmountOffsetPO类
- 包含使用门槛以及代金券金额等信息。
- AmountOffsetPO类的属性如下
```java
public class AmountOffsetPO {
    private BigDecimal amount;
    private BigDecimal discount;
}
```

### 7.5.4. LevelDiscountPO类
- 包含用户等级以及折扣金额等信息。
- LevelDiscountPO类的属性如下
```java
public class LevelDiscountPO {
    private BigDecimal level;
    private BigDecimal discount;
}
```

### 7.5.5. LevelOffsetPO类
- 包含用户等级以及代金券金额等信息。
- LevelOffsetPO类的属性如下
```java
public class LevelOffsetPO {
    private BigDecimal level;
    private BigDecimal discount;
}
```


### 7.5.6. AnnualPO类
- 包含年终奖编号、员工姓名、年终奖金额以及年份。
- AnnualPO类的属性如下
```java
public class AnnualPO {
    private Long id;
    private Integer uid;
    private BigDecimal annualSalary;
    private Integer year;
}

```

### 7.5.7. BonusPO类
- 包含提成信息编号、受提成者姓名以及提成日期。
- BonusPO类的属性如下
```java
public class BonusPO {
    private Long id;
    private String name;
    private Date time;
}
```

### 7.5.8. Initial_AccountPO类
- 包含预设账户编号，姓名以及账户余额。
- Initial_AccountPO类的属性如下
```java
public class Initial_AccountPO {
    private Long id;
    private String name;
    private BigDecimal amount;
}
```

### 7.5.9. Initial_CustomerPO类
- 包含预设客户编号，分类(供应商\销售商)，级别（五级，一级普通用户，五级VIP客户），姓名，电话号码，地址，邮编，电子邮箱，信用额度，应收金额，应付金额，默认业务员。
- Initial_CustomerPO类的属性如下
```java
public class Initial_CustomerPO {
    private Integer id;
    private String type;
    private Integer level;
    private String name;
    private String phone;
    private String address;
    private String zipcode;
    private String email;
    private BigDecimal lineOfCredit;
    private BigDecimal receivable;
    private BigDecimal payable;
    private String operator;
}
```


### 7.5.10. Initial_ProductPO类
- 包含预设商品编号，商品名，分类编号，型号，数量，进价，零售价，最新进价，最新零售价。
- Initial_ProductPO类的属性如下
```java
public class Initial_ProductPO {
    private String id;
    private String name;
    private Integer categoryId;
    private String type;
    private Integer quantity;
    private BigDecimal purchasePrice;
    private BigDecimal retailPrice;
    private BigDecimal recentPp;
    private BigDecimal recentRp;
}
```


### 7.5.11. PaymentPO类
- 包含付款单的数据库编号、付款单的业务逻辑编号、银行编号、操作员姓名、单据状态以及金额。
- PaymentPO类的属性如下
```java
public class PaymentPO {
    private Long id;
    private String PaymentId;
    private Long bankId;
    private String operator;
    private AccountSheetState state;
    private BigDecimal amount;
}
```

### 7.5.12. PaymentContentPO类
- 包含付款单付款列表的数据库编号、关联的付款单的业务逻辑编号、客户编号、金额以及备注。
- PaymentContentPO类的属性如下
```java
public class PaymentContentPO {
    private Long id;
    private String PaymentId;
    private Integer cid;
    private BigDecimal amount;
    private String remark;
}
```

### 7.5.13. WagePO类
- 包含工资单的数据库编号、工资单的业务逻辑编号、代发工资的用户编号、代发工资的用户名字、银行编号、税务单编号、税前工资、税后工资、基本工资、岗位津贴、缺勤扣除工资、提成、工资类别、工资单状态以及工资发放时间。
- WagePO类的属性如下
```java
public class WagePO {
    private Long id;
    private String WageId;
    private Integer uid;
    private String name;
    private Long bankId;
    private Long taxId;
    private BigDecimal rawSalary;
    private BigDecimal finalSalary;
    private BigDecimal baseSalary;
    private BigDecimal rankSalary;
    private BigDecimal signup;
    private BigDecimal bonus;
    private PayRollType type;
    private AccountSheetState state;
    private Date time;
}
```

### 7.5.14. Salary类
- 包含员工工资的编号、员工类型、基本工资、岗位津贴、提成以及工资发放方式。
- Salary类的属性如下
```java
public class Salary {
    private Integer id;
    private Role role;
    private BigDecimal baseSalary;
    private BigDecimal rankSalary;
    private BigDecimal bonusSalary;
    private PayRollType way;
}
```

### 7.5.15. SignupPO类
- 包含打卡信息编号、打卡员工编号以及打卡时间。
- SignupPO类的属性如下
```java
public class SignupPO {
    private Long id;
    private Integer uid;
    private Date time;
}
```

### 7.5.16. CreditPO类
- 包含收款单的数据库编号、收款单的业务逻辑编号、客户编号、操作员姓名、收款单状态以及金额。
- CreditPO类的属性如下
```java
public class CreditPO {
    private Long id;
    private String CreditId;
    private Integer cid;
    private String operator;
    private AccountSheetState state;
    private BigDecimal amount;
}
```

### 7.5.17. CreditContentPO类
- 包含收款单收款列表的数据库编号、关联的收款单的业务逻辑编号、银行编号、金额以及备注。
- CreditContentPO类的属性如下
```java
public class CreditContentPO {
    private Long id;
    private String CreditId;
    private Long bankId;
    private BigDecimal amount;
    private String remark;
}
```

### 7.5.18. TaxPO类
- 包含税务单编号、纳税金额、失业保险金额、公积金缴纳金额以及总金额。
- TaxPO类的属性如下
```java
public class TaxPO {
    private Long id;
    private BigDecimal tax;
    private BigDecimal insurance;
    private BigDecimal fund;
    private BigDecimal total;
}
```

### 7.5.19. User类
- 包含用户编号、用户姓名、用户密码、用户身份、用户性别、用户生日、用户手机、用户银行账号以及用户岗位级别。
- User类的属性如下
```java
public class User {
    private Integer id;
    private String name;
    private String password;
    private Role role;
    private String gender;
    private Date birthday;
    private String phone;
    private Long bankId;
    private Integer level;
}
```

## 7.6. 数据库表

|      数据类型        |    数据定义   |
|   :----------:      | ---------------- |
|     数据库持久化     |  包含account表、annual表、bonus表、Payment表、Payment_content表、Wage表、salary表、signup表、Credit表、Credit_content表、tax表、amount_discount表、amount_offset表、level_discount表、level_offset表、initial_account表、initial_customer表、initial_product表以及user表  |